(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{19:function(e,t,a){e.exports=a(33)},24:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),o=a.n(l),c=(a(24),a(16)),s=a(6);var u=function(){return r.a.createElement("h1",{id:"title"},"COP 4331 LAMP Stack Demo")},i=a(4),d=a.n(i),p=a(8);var m=function(e){var t,a,l=Object(n.useState)(""),o=Object(p.a)(l,2),c=o[0],s=o[1],u=function(e){var n,r,l,o;return d.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e.preventDefault(),n='{"login":"'+t.value+'","password":"'+a.value+'"}',c.prev=2,c.next=5,d.a.awrap(fetch("http://localhost:5000/api/login",{method:"POST",body:n,headers:{"Content-Type":"application/json"}}));case 5:return r=c.sent,c.t0=JSON,c.next=9,d.a.awrap(r.text());case 9:c.t1=c.sent,(l=c.t0.parse.call(c.t0,c.t1)).id<=0?s("User/Password combination incorrect"):(o={firstName:l.firstName,lastName:l.lastName,id:l.id},localStorage.setItem("user_data",JSON.stringify(o)),s(""),window.location.href="/access"),c.next=19;break;case 14:return c.prev=14,c.t2=c.catch(2),console.log(c.t2.message),alert(c.t2.toString()),c.abrupt("return");case 19:case"end":return c.stop()}}),null,null,[[2,14]])};return r.a.createElement("div",{id:"loginDiv"},r.a.createElement("form",{onSubmit:u},r.a.createElement("span",{id:"inner-title"},"PLEASE LOG IN"),r.a.createElement("input",{type:"text",id:"loginName",placeholder:"Username",ref:function(e){return t=e}}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",id:"loginPassword",placeholder:"Password",ref:function(e){return a=e}}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",id:"loginButton",class:"buttons",value:"Do It",onClick:u})),r.a.createElement("span",{id:"loginResult"},c))},h=function(e){return r.a.createElement("div",null,r.a.createElement(u,null),r.a.createElement(m,null))};var f=function(e){var t={};if(localStorage.user_data){var a=localStorage.getItem("user_data");t=JSON.parse(a)}return r.a.createElement("div",{id:"loggedInDiv"},r.a.createElement("span",{id:"userName"},"Logged In As ",t.firstName," ",t.lastName," "),r.a.createElement("br",null),r.a.createElement("button",{type:"button",id:"logoutButton",class:"buttons",onClick:function(e){e.preventDefault(),window.location.href="/"}}," Log Out "))};var E=function(e){var t="",a="",l=Object(n.useState)(""),o=Object(p.a)(l,2),c=o[0],s=o[1],u=Object(n.useState)(""),i=Object(p.a)(u,2),m=i[0],h=i[1],f=Object(n.useState)(""),E=Object(p.a)(f,2),v=E[0],b=E[1],g=e.userId;return void 0===g&&(g=1),r.a.createElement("div",{id:"accessUIDiv"},r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"searchText",placeholder:"Color To Search For",ref:function(e){return a=e}}),r.a.createElement("button",{type:"button",id:"searchColorButton",class:"buttons",onClick:function(e){var t,n,r,l,o,c,s;return d.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return e.preventDefault(),t='{"userId":"'+g+'","search":"'+a.value+'"}',u.prev=2,u.next=5,d.a.awrap(fetch("http://localhost:5000/api/searchColors",{method:"POST",body:t,headers:{"Content-Type":"application/json"}}));case 5:return n=u.sent,u.next=8,d.a.awrap(n.text());case 8:for(r=u.sent,l=JSON.parse(r),o=l.results,c="",s=0;s<o.length;s++)c+=o[s],s<o.length-1&&(c+=", ");h("Color(s) has been retrieved"),b(c),u.next=21;break;case 17:u.prev=17,u.t0=u.catch(2),alert(u.t0.toString()),h(u.t0.toString());case 21:case"end":return u.stop()}}),null,null,[[2,17]])}}," Search Color "),r.a.createElement("br",null),r.a.createElement("span",{id:"colorSearchResult"},m),r.a.createElement("p",{id:"colorList"},v),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"colorText",placeholder:"Color To Add",ref:function(e){return t=e}}),r.a.createElement("button",{type:"button",id:"addColorButton",class:"buttons",onClick:function(e){var a,n,r,l;return d.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e.preventDefault(),a='{"userId":"'+g+'","color":"'+t.value+'"}',o.prev=2,o.next=5,d.a.awrap(fetch("http://localhost:5000/api/addColor",{method:"POST",body:a,headers:{"Content-Type":"application/json"}}));case 5:return n=o.sent,o.next=8,d.a.awrap(n.text());case 8:r=o.sent,(l=JSON.parse(r)).error.length>0?s("API Error:"+l.error):s("Color has been added"),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(2),s(o.t0.toString());case 16:case"end":return o.stop()}}),null,null,[[2,13]])}}," Add Color "),r.a.createElement("br",null),r.a.createElement("span",{id:"colorAddResult"},c))},v=function(){return r.a.createElement("div",null,r.a.createElement(u,null),r.a.createElement(f,null),r.a.createElement(E,null))};a(26),a(27);var b=function(){return r.a.createElement(c.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0},r.a.createElement(h,null)),r.a.createElement(s.b,{path:"/access",exact:!0},r.a.createElement(v,null)),r.a.createElement(s.a,{to:"/"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.c544a009.chunk.js.map